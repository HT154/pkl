// test jsonnet.Property implicit annotation converter
import "pkl:jsonnet"

class Foo {
  @jsonnet.Property { name = "new-name" }
  oldName: String
}

foo: Foo = new {
  oldName = "hello world"
}

unaltered: String = new jsonnet.Renderer {
  annotationConverters {
    [jsonnet.Property] = (name, _, value) -> Pair(name, value)
  }
}.renderDocument(foo)

output {
  renderer = new jsonnet.Renderer {}
}
